---
title: "Fetching Parliarmentary Questions"
author: ""
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Fetching Parliarmentary Questions}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


```{r include=FALSE}
assign("has_internet_via_proxy", TRUE, environment(curl::has_internet))
library(legisTaiwan)
```

## Accessing Parliamentary Questions

<div class="text-justify">

This tutorial demonstrates how to use the legisTaiwan package to access parliamentary questions and executive responses from Taiwan's Legislative Yuan. The package provides convenient functions to fetch publicly available data.
</div>

### Loading the Package
First, install and load the legisTaiwan package:
```{r}
library(legisTaiwan)
```

### Fetching Parliamentary Questions

<div class="text-justify">

Use the `get_parlquestions()` function to retrieve parliamentary questions from legislators:

</div>

```{r}
# Fetch questions from the 11th term
pa_term10 <- get_parlquestions(term = 11, verbose = TRUE)

# Examine the data structure
str(pa_term10)
```



__Function parameters:__

- `term`: Legislative term (must be numeric, e.g., 11)
- `session_period`: Session period (optional)
- `verbose = TRUE`: Display download progress and information

__The returned data contains:__

- `title`: Data title
- `query_time`: Query timestamp
- `_retrieved_number`: Number of records retrieved
- `data`: A dataframe containing:
  + `term`: Legislative term
  + `sessionPeriod`: Session period
  + `sessionTimes`: Session count
  + `item`: Question items


### Retrieving Executive Responses


<div class="text-justify">

Use the get_executive_response() function to fetch responses from the Executive Yuan:

</div>

```{r}
# Fetch executive responses from the 10th term, 2nd session
exec_response <- get_executive_response(term = 10, session_period = 2, verbose = TRUE)

# Examine the data structure
head(exec_response$data)
```

__Function parameters:__

- `term`: Legislative term
- `session_period`: Session period
- `verbose = TRUE`: Display download progress and information

__The returned data includes:__

- `title`: Data title
- `query_time`: Query timestamp
- `retrieved_number`: Number of records retrieved
- `data`: A dataframe containing response information
